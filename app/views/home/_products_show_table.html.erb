<% if current_user.role == 'admin' %>
	<%= link_to 'New Product', new_product_path(project_id_param: object.id), class: "pull-xs-right" %>
<% end %>

<% object.products.order(product_name: :asc).each do |product| %>
	<table class="table table-striped table-hover" >
		<tr>
			<th>Product name: </th>
			<td><%= product.product_name %></td>
		</tr>
		<tr>
			<th>Item number: </th>
			<td><%= product.item_number %></td>
		</tr>
		<tr>
			<th>Final Unit Cost: </th>
			<td><%= number_to_currency(product.cost.unitUSD) if product.cost.present? %></td>
		</tr>
		<tr>
			<th>Final Tooling Fee: </th>
			<td><%= number_to_currency(product.cost.toolingUSD) if product.cost.present? %></td>
		</tr>
		<tr>
			<th>Final Tooling Fee: </th>
			<td><%= number_to_currency(product.cost.toolingUSD) if product.cost.present? %></td>
		</tr>
		<tr>
			<th>Package Requirement: </th>
			<td><%= product.Package %></td>
		</tr>
		<tr>
			<th>Mark Requirement: </th>
			<td><%= product.Mark %></td>
		</tr>
		<tr>
			<th>Instruction Requirement: </th>
			<td><%= product.Instruction %></td>
		</tr>
		<tr>
			<th>Reminder: </th>
			<td><%= product.reminder %></td>
		</tr>
	</table>

	<table class="table table-striped table-hover">
		<thead>
			<tr>
				<th>PO number</th>
				<th>Quantity</th>
				<th>Created at</th>
			</tr>
		</thead>
		<tbody>
			<% product.po_products.last(3).each do |po_product| %>
				<tr>
					<td><%= po_product.po.po_number %></td>
					<td><%= po_product.quantity %></td>
					<td><%= po_product.created_at.strftime("%d-%m-%y") %></td>	
				</tr>
			<% end %>						
		</tbody>
	</table>

<% if object.samples.count > 3 %>
	<%= link_to 'All', samples_path(project_id_param: object.id), class: "pull-xs-right" %>

<% end %>
	<% if current_user.role == 'admin' %>
		<%= link_to 'Edit', edit_product_path(product) %> |
		<%= link_to 'Delete', product_path(product), method: :delete, data: {confirm: "Are you sure?"} %>
	<% end %>
	<hr>		
<% end %>
